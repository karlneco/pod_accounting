{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
  <h1 class="mb-4">Expenses</h1>

  <div class="mb-3">
    <a href="{{ url_for('expenses.create_expense') }}" class="btn btn-primary">
      Add New Expense
    </a>
    <a href="{{ url_for('expenses.import_expenses') }}" class="btn btn-secondary">
      Import Expenses
    </a>
  </div>

<table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Date</th>
        <th>Provider</th>
        <th>Order #</th>
        <th class="text-end">Total Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for inv in invoices %}
  <tr style="cursor:pointer"
      onclick="window.location.href='{{ url_for('expenses.show_expense', invoice_id=inv.id) }}'">
        <td>{{ inv.invoice_date }}</td>
        <td>{{ inv.provider.name }}</td>
        <td>{{ inv.invoice_number or 'â€“' }}</td>
        <td class="text-end">
          ${{ '{:,.2f}'.format(inv.total_amount) }}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
